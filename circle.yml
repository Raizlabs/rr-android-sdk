machine:
    java:
        version: oraclejdk8

dependencies:
  pre:
    - echo y | android update sdk --no-ui --all --filter platform-tools
    - echo y | android update sdk --no-ui --all --filter build-tools-23.0.3
    - echo y | android update sdk --no-ui --all --filter android-23
    - echo y | android update sdk --no-ui --all --filter extra-google-m2repository
    - echo y | android update sdk --no-ui --all --filter extra-google-google_play_services
    - echo y | android update sdk --no-ui --all --filter extra-android-m2repository
    - echo y | android update sdk --no-ui --all --filter extra-android-support

test:
  override:
    # run tests
    - ./gradlew check
    # copy the test results to the test results directory
    # - cp -r ./app/build/reports/* $CIRCLE_TEST_REPORTS
    - ./gradlew assembleDebug
    - ls ./testApp/build/outputs/apk

deployment:
  development:
    branch: develop
    commands:
      - source ./deploy_develop.sh && uploadToHockeyApp